# =============================================================================
# SECRETS EXAMPLE
# This example shows how to create and manage secrets
# Supports: Harness Secret Manager, HashiCorp Vault, AWS Secrets Manager, etc.
# =============================================================================

harness:
  account_id: "YOUR_ACCOUNT_ID"
  api_key: "YOUR_API_KEY"
  org_id: "default"

project:
  repo_name: "secrets_example"
  description: "Secrets management example"

secrets:
  # ===== TEXT SECRETS =====
  text_secrets:
    # Using Harness Built-in Secret Manager (Default)
    - name: "GitHub Token"
      identifier: "github_token"
      description: "GitHub personal access token"
      value_type: "Inline"                        # or "Reference"
      value: "<+input>"                          # Prompt at runtime
      secret_manager_identifier: "harnessSecretManager"  # Default Harness SM
      tags:
        type: "token"
        service: "github"
    
    # Using Custom Secret Manager (e.g., HashiCorp Vault)
    - name: "Database Password"
      identifier: "db_password"
      description: "Production database password"
      value_type: "Inline"
      value: "<+input>"
      secret_manager_identifier: "my_vault_connector"  # Your Vault connector ID
      tags:
        type: "password"
        environment: "prod"
    
    # Using AWS Secrets Manager
    - name: "AWS API Key"
      identifier: "aws_api_key"
      description: "AWS service API key"
      value_type: "Inline"
      value: "<+input>"
      secret_manager_identifier: "aws_secrets_manager"  # Your AWS SM connector
      tags:
        type: "api_key"
        cloud: "aws"
    
    # Common Secrets Examples
    - name: "GitLab Token"
      identifier: "gitlab_token"
      description: "GitLab access token"
      value_type: "Inline"
      value: "<+input>"
      secret_manager_identifier: "harnessSecretManager"
      tags:
        type: "token"
    
    - name: "Docker Hub Password"
      identifier: "dockerhub_password"
      description: "Docker Hub password"
      value_type: "Inline"
      value: "<+input>"
      secret_manager_identifier: "harnessSecretManager"
      tags:
        type: "password"
    
    - name: "API Endpoint Key"
      identifier: "api_key"
      description: "External API key"
      value_type: "Inline"
      value: "<+input>"
      secret_manager_identifier: "harnessSecretManager"
      tags:
        type: "api_key"
  
  # ===== FILE SECRETS =====
  file_secrets:
    # SSH Private Key
    - name: "SSH Private Key"
      identifier: "ssh_private_key"
      description: "SSH key for server access"
      secret_manager_identifier: "harnessSecretManager"
      tags:
        type: "ssh_key"
    
    # TLS Certificate
    - name: "TLS Certificate"
      identifier: "tls_cert"
      description: "TLS certificate for HTTPS"
      secret_manager_identifier: "harnessSecretManager"
      tags:
        type: "certificate"
    
    # GCP Service Account (JSON file)
    - name: "GCP Service Account"
      identifier: "gcp_sa_key"
      description: "GCP service account JSON key"
      secret_manager_identifier: "harnessSecretManager"
      tags:
        type: "service_account"
        cloud: "gcp"

# =============================================================================
# SECRET MANAGER CONFIGURATION OPTIONS
# =============================================================================
#
# secret_manager_identifier values:
#
# 1. "harnessSecretManager" - Harness built-in secret manager (default)
#    - No additional setup required
#    - Encrypted at rest
#    - Available immediately
#
# 2. "my_vault_connector" - HashiCorp Vault
#    - Requires Vault connector to be set up in Harness
#    - Configure in Harness UI: Account Settings > Connectors > Add Vault
#    - Provides centralized secret management
#
# 3. "aws_secrets_manager" - AWS Secrets Manager
#    - Requires AWS SM connector in Harness
#    - Configure in Harness UI: Account Settings > Connectors > Add AWS SM
#    - Native AWS integration
#
# 4. "azure_key_vault" - Azure Key Vault
#    - Requires Azure KV connector in Harness
#    - Configure in Harness UI: Account Settings > Connectors > Add Azure KV
#    - Native Azure integration
#
# 5. "gcp_secret_manager" - GCP Secret Manager
#    - Requires GCP SM connector in Harness
#    - Configure in Harness UI: Account Settings > Connectors > Add GCP SM
#    - Native GCP integration
#
# =============================================================================
# USAGE IN CONNECTORS
# =============================================================================
#
# Secrets are referenced by their identifier in connector configurations:
#
# connectors:
#   github:
#     - name: "My GitHub"
#       identifier: "my_github"
#       authentication:
#         token_ref: "github_token"  # ‚Üê References the secret identifier
#
# =============================================================================
